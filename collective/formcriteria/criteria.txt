.. -*-doctest-*-

========
Criteria
========

We start with a topic.

    >>> foo_topic = self.folder['foo-topic-title']

Open a browser and log in as a normal user.

    >>> from Products.Five.testbrowser import Browser
    >>> from Products.PloneTestCase import ptc
    >>> browser = Browser()
    >>> browser.handleErrors = False
    >>> browser.open(portal.absolute_url())
    >>> browser.getLink('Log in').click()
    >>> browser.getControl('Login Name').value = ptc.default_user
    >>> browser.getControl(
    ...     'Password').value = ptc.default_password
    >>> browser.getControl('Log in').click()

Checkboxes
----------

Three criterion are provided for rendering checkboxes on the search
form: CheckboxFormCriterion, PortalTypeCheckboxFormCriterion,
ReferenceCheckboxFormCriterion.

Add a checkbox criterion for the portal type.

    >>> foo_topic.addCriterion(
    ...     'Type', 'PortalTypeCheckboxFormCriterion')
    <PortalTypeCheckboxFormCriterion at
    /plone/Members/test_user_1_/foo-topic-title/crit__Type_PortalTypeCheckboxFormCriterion>

The values set on the criterion are the default values which will be
checked on the search form.

    >>> foo_topic.getCriterion(
    ...     'Type_PortalTypeCheckboxFormCriterion').setValue(['Page'])

When viewing the collection in a browser checkboxes will be rendered
for the field with the default values selected.

    >>> browser.open(foo_topic.absolute_url())
    >>> browser.getControl('Page')
    <ItemControl name='Type:list' type='checkbox' optionValue='Page'
    selected=True>
    >>> browser.getControl('Event')
    <ItemControl name='Type:list' type='checkbox' optionValue='Event'
    selected=False>
